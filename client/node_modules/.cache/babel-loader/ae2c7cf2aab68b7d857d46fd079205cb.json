{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\javis\\\\Desktop\\\\Georgia Tech Bottcamp\\\\HouseParty\\\\client\\\\src\\\\components\\\\LiveParty.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Navigate, useParams } from \"react-router-dom\";\nimport { useQuery } from \"@apollo/client\";\nimport { users } from \"../users\";\nimport { rules } from \"../rules\";\nimport profile from \"../images/profile.png\";\nimport { QUERY_USER } from \"../utils/queries\";\nimport { QUERY_PARTY } from \"../utils/queries\";\nimport { Context } from \"../utils/GlobalState\";\nimport Auth from \"../utils/auth\";\nimport RuleForm from \"./RuleForm\";\nimport auth from \"../utils/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LiveParty() {\n  _s();\n\n  const {\n    partyName: partyParam\n  } = useParams();\n  const {\n    loading1,\n    data1\n  } = useQuery(partyParam ? QUERY_PARTY : QUERY_USER, {\n    variables: {\n      partyName: partyParam\n    }\n  });\n  const party = (data1 === null || data1 === void 0 ? void 0 : data1.party) || (data1 === null || data1 === void 0 ? void 0 : data1.users) || {}; // eslint-disable-next-line no-undef\n\n  const [state, setState] = useContext(Context);\n  const {\n    loading,\n    data\n  } = useQuery(QUERY_USER, {\n    variables: {\n      id: auth.getProfile().data._id\n    }\n  });\n\n  const partyClick = (id, e) => {\n    setState({ ...state,\n      partyId: id,\n      new: false\n    });\n    console.log(state);\n  };\n\n  console.log(state);\n  const partyList = (data === null || data === void 0 ? void 0 : data.user.parties) || [];\n  const listParties = partyList.map(party => /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: e => partyClick(party._id, e),\n    children: party.name\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this));\n\n  const handleClick = () => {\n    setState({ ...state,\n      new: true,\n      partyId: \"\"\n    });\n  };\n\n  if (Auth.loggedIn() && Auth.getLiveParty().data1.partyName === partyParam) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"party\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"d-flex align-items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"spinner-border ms-auto\",\n        role: \"status\",\n        \"aria-hidden\": \"true\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this);\n  }\n\n  if (!(party !== null && party !== void 0 && party.partyName)) {\n    return /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"You need to be logged in to view live parties. Please log in or sign up!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"task-manager\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"left-bar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"left-content\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: profile,\n          alt: \"profile pic\",\n          className: \"profilePic\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"username\",\n          children: auth.getProfile().data.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"updates\",\n          children: \"Upcoming/Live Parties\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"action-list\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"item\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#invites\",\n                children: \"My Invites\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"item\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleClick,\n                children: \"New Party\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"item\",\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#myParties\",\n                children: \"My Parties\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 17\n              }, this), listParties]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"item\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#recentParties\",\n                children: \"Recent Parties\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"item\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#friends\",\n                children: \"My Friends\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"item\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#logout\",\n                onClick: Auth.logout,\n                children: \"Logout\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"House Party\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\" \", \"If any of these events below happen, you will be alerted to take a drink!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid sm:grid-cols-2 md:grid-cols-3 gap-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"shadow-lg shadow-[#040c16] group container rounded-md flex justify-center items-center mx-auto content-div\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col\",\n              children: rules.map(rule => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rules contents row column \",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"triggerBtn\",\n                  onClick: alert,\n                  children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                    className: \"ruleCard\",\n                    children: rule.trigger\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 135,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"right-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            id: \"liveParty\",\n            children: \"Live Party\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \" Participants\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: users.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"rules participants \",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"ruleCard\",\n              children: user.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LiveParty, \"yRSXJvsS5jyauXtfok3LUH3NAys=\", false, function () {\n  return [useParams, useQuery, useQuery];\n});\n\n_c = LiveParty;\n\nvar _c;\n\n$RefreshReg$(_c, \"LiveParty\");","map":{"version":3,"sources":["C:/Users/javis/Desktop/Georgia Tech Bottcamp/HouseParty/client/src/components/LiveParty.js"],"names":["React","Navigate","useParams","useQuery","users","rules","profile","QUERY_USER","QUERY_PARTY","Context","Auth","RuleForm","auth","LiveParty","partyName","partyParam","loading1","data1","variables","party","state","setState","useContext","loading","data","id","getProfile","_id","partyClick","e","partyId","new","console","log","partyList","user","parties","listParties","map","name","handleClick","loggedIn","getLiveParty","username","logout","rule","alert","trigger"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Navigate, useParams } from \"react-router-dom\";\r\nimport { useQuery } from \"@apollo/client\";\r\nimport { users } from \"../users\";\r\nimport { rules } from \"../rules\";\r\nimport profile from \"../images/profile.png\";\r\n\r\nimport { QUERY_USER } from \"../utils/queries\";\r\nimport { QUERY_PARTY } from \"../utils/queries\";\r\nimport { Context } from \"../utils/GlobalState\";\r\n\r\nimport Auth from \"../utils/auth\";\r\nimport RuleForm from \"./RuleForm\";\r\nimport auth from \"../utils/auth\";\r\n\r\nexport default function LiveParty() {\r\n  const { partyName: partyParam } = useParams();\r\n\r\n  const { loading1, data1 } = useQuery(partyParam ? QUERY_PARTY : QUERY_USER, {\r\n    variables: { partyName: partyParam },\r\n  });\r\n\r\n  const party = data1?.party || data1?.users || {};\r\n\r\n  // eslint-disable-next-line no-undef\r\n  const [state, setState] = useContext(Context);\r\n\r\n  const { loading, data } = useQuery(QUERY_USER, {\r\n    variables: { id: auth.getProfile().data._id },\r\n  });\r\n\r\n  const partyClick = (id, e) => {\r\n    setState({\r\n      ...state,\r\n      partyId: id,\r\n      new: false,\r\n    });\r\n    console.log(state);\r\n  };\r\n  console.log(state);\r\n  const partyList = data?.user.parties || [];\r\n\r\n  const listParties = partyList.map((party) => (\r\n    <button onClick={(e) => partyClick(party._id, e)}>{party.name}</button>\r\n  ));\r\n\r\n  const handleClick = () => {\r\n    setState({\r\n      ...state,\r\n      new: true,\r\n      partyId: \"\",\r\n    });\r\n  };\r\n\r\n  if (Auth.loggedIn() && Auth.getLiveParty().data1.partyName === partyParam) {\r\n    return <Navigate to=\"party\" />;\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div class=\"d-flex align-items-center\">\r\n        <strong>Loading...</strong>\r\n        <div\r\n          class=\"spinner-border ms-auto\"\r\n          role=\"status\"\r\n          aria-hidden=\"true\"\r\n        ></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!party?.partyName) {\r\n    return (\r\n      <h3>\r\n        You need to be logged in to view live parties. Please log in or sign up!\r\n      </h3>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"task-manager\">\r\n      <div className=\"left-bar\">\r\n        <div className=\"left-content\"></div>\r\n        <div>\r\n          <img src={profile} alt=\"profile pic\" className=\"profilePic\" />\r\n          <h3 className=\"username\">{auth.getProfile().data.username}</h3>\r\n\r\n          <h2 className=\"updates\">Upcoming/Live Parties</h2>\r\n          <div>\r\n            <ul className=\"action-list\">\r\n              <li className=\"item\">\r\n                <a href=\"#invites\">My Invites</a>\r\n              </li>\r\n              <li className=\"item\">\r\n                <button onClick={handleClick}>New Party</button>\r\n              </li>\r\n              <li className=\"item\">\r\n                <a href=\"#myParties\">My Parties</a>\r\n                {listParties}\r\n              </li>\r\n              <li className=\"item\">\r\n                <a href=\"#recentParties\">Recent Parties</a>\r\n              </li>\r\n              <li className=\"item\">\r\n                <a href=\"#friends\">My Friends</a>\r\n              </li>\r\n              <li className=\"item\">\r\n                <a href=\"#logout\" onClick={Auth.logout}>\r\n                  Logout\r\n                </a>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n        {/* center of dashboard*/}\r\n\r\n        <div className=\"page-content\">\r\n          <h2>House Party</h2>\r\n          <p>\r\n            {\" \"}\r\n            If any of these events below happen, you will be alerted to take a\r\n            drink!\r\n          </p>\r\n          {/* game play container*/}\r\n\r\n          <div className=\"grid sm:grid-cols-2 md:grid-cols-3 gap-4\">\r\n            {/* card for trigger*/}\r\n\r\n            <div className=\"shadow-lg shadow-[#040c16] group container rounded-md flex justify-center items-center mx-auto content-div\">\r\n              <div className=\"col\">\r\n                {rules.map((rule) => (\r\n                  <div className=\"rules contents row column \">\r\n                    <button className=\"triggerBtn\" onClick={alert}>\r\n                      <h1 className=\"ruleCard\">{rule.trigger}</h1>\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"right-content\">\r\n          <div>\r\n            <h2 id=\"liveParty\">Live Party</h2>\r\n            <p> Participants</p>\r\n          </div>\r\n\r\n          <div>\r\n            {users.map((user) => (\r\n              <div className=\"rules participants \">\r\n                <h1 className=\"ruleCard\">{user.username}</h1>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div></div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}